(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3308)}])},3308:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return O},default:function(){return k}});var a=n(5893),r=n(9008),i=n(5675),s=n(7294),c=n(8520),l=n.n(c),o=n(2753),u=n.n(o),d=n(9669),p=n.n(d);n(1163);function m(e,t,n,a,r,i,s){try{var c=e[i](s),l=c.value}catch(o){return void n(o)}c.done?t(l):Promise.resolve(l).then(a,r)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=function(e){var t,n=e.setClose,r=(0,s.useState)(null),i=r[0],c=r[1],o=(0,s.useState)(null),d=o[0],x=o[1],h=(0,s.useState)(null),j=h[0],v=h[1],N=(0,s.useState)([]),g=N[0],b=N[1],w=(0,s.useState)([]),C=w[0],z=w[1],y=(0,s.useState)(null),A=y[0],P=y[1],S=function(e,t){var n=g;n[t]=e.target.value,b(n)},O=function(e){P(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){_(e,t,n[t])}))}return e}({},A,_({},e.target.name,e.target.value)))},k=(t=l().mark((function e(){var t,a,r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",i),t.append("upload_preset","uploads"),e.prev=3,e.next=6,p().post("https://api.cloudinary.com/v1_1/dsbyq4sj1/image/upload",t);case 6:return a=e.sent,r=a.data.url,s={title:d,desc:j,prices:g,extraOptions:C,img:r},e.next=11,p().post("http://localhost:3000/api/products",s);case 11:n(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function s(e){m(i,a,r,s,c,"next",e)}function c(e){m(i,a,r,s,c,"throw",e)}s(void 0)}))});return(0,a.jsx)("div",{className:u().container,children:(0,a.jsxs)("div",{className:u().wrapper,children:[(0,a.jsx)("span",{onClick:function(){return n(!0)},className:u().close,children:"X"}),(0,a.jsx)("h1",{children:"Add a new Pizza"}),(0,a.jsxs)("div",{className:u().item,children:[(0,a.jsx)("label",{className:u().label,children:"Choose an image"}),(0,a.jsx)("input",{type:"file",onChange:function(e){return c(e.target.files[0])}})]}),(0,a.jsxs)("div",{className:u().item,children:[(0,a.jsx)("label",{className:u().label,children:"Title"}),(0,a.jsx)("input",{className:u().input,type:"text",onChange:function(e){return x(e.target.value)}})]}),(0,a.jsxs)("div",{className:u().item,children:[(0,a.jsx)("label",{className:u().label,children:"Desc"}),(0,a.jsx)("textarea",{rows:4,type:"text",onChange:function(e){return v(e.target.value)}})]}),(0,a.jsxs)("div",{className:u().item,children:[(0,a.jsx)("label",{className:u().label,children:"Prices"}),(0,a.jsxs)("div",{className:u().priceContainer,children:[(0,a.jsx)("input",{className:"".concat(u().input," ").concat(u().inputSm),type:"number",placeholder:"Small",onChange:function(e){return S(e,0)}}),(0,a.jsx)("input",{className:"".concat(u().input," ").concat(u().inputSm),type:"number",placeholder:"Medium",onChange:function(e){return S(e,1)}}),(0,a.jsx)("input",{className:"".concat(u().input," ").concat(u().inputSm),type:"number",placeholder:"Large",onChange:function(e){return S(e,2)}})]})]}),(0,a.jsxs)("div",{className:u().item,children:[(0,a.jsx)("label",{className:u().label,children:"Extra"}),(0,a.jsxs)("div",{className:u().extra,children:[(0,a.jsx)("input",{className:"".concat(u().input," ").concat(u().inputSm),type:"text",placeholder:"Item",name:"text",onChange:O}),(0,a.jsx)("input",{className:"".concat(u().input," ").concat(u().inputSm),type:"number",placeholder:"Price",name:"price",onChange:O}),(0,a.jsx)("button",{className:u().extraButton,onClick:function(e){z((function(e){return f(e).concat([A])}))},children:"Add"})]}),(0,a.jsx)("div",{className:u().extraItems,children:C.map((function(e){return(0,a.jsx)("span",{className:u().extraItem,children:e.text},e.text)}))})]}),(0,a.jsx)("button",{className:u().addButton,onClick:k,children:"Create"})]})})},h=function(e){var t=e.setClose;return(0,a.jsx)("div",{onClick:function(){return t(!1)},className:u().mainAddButton,children:"Add New Pizza"})},j=n(4381),v=n.n(j),N=function(){var e=(0,s.useState)(0),t=e[0],n=e[1],r=function(e){"l"===e&&n(0!==t?t-1:2),"r"===e&&n(2!==t?t+1:0)};return(0,a.jsxs)("div",{className:v().container,children:[(0,a.jsx)("div",{className:v().arrowContainer,style:{left:0},onClick:function(){return r("l")},children:(0,a.jsx)(i.default,{src:"/img/arrowl.png",alt:"",layout:"fill",objectFit:"contain"})}),(0,a.jsx)("div",{className:v().wrapper,style:{transform:"translateX(".concat(-100*t,"vw)")},children:["/img/featured.png","/img/featured2.png","/img/featured3.png"].map((function(e,t){return(0,a.jsx)("div",{className:v().imgContainer,children:(0,a.jsx)(i.default,{src:e,alt:"",layout:"fill",objectFit:"contain"})},t)}))}),(0,a.jsx)("div",{className:v().arrowContainer,style:{right:0},onClick:function(){return r("r")},children:(0,a.jsx)(i.default,{src:"/img/arrowr.png",layout:"fill",alt:"",objectFit:"contain"})})]})},g=n(7526),b=n.n(g),w=n(589),C=n.n(w),z=n(1664),y=function(e){var t=e.pizza;return(0,a.jsxs)("div",{className:C().container,children:[(0,a.jsx)(z.default,{href:"/product/".concat(t._id),passHref:!0,children:(0,a.jsx)(i.default,{src:t.img,alt:"",width:"500",height:"500"})}),(0,a.jsx)("h1",{className:C().title,children:t.title}),(0,a.jsxs)("span",{className:C().price,children:["$",t.prices[0]]}),(0,a.jsx)("p",{className:C().desc,children:t.desc})]})},A=function(e){var t=e.pizzaList;return(0,a.jsxs)("div",{className:b().container,children:[(0,a.jsx)("h1",{className:b().title,children:"THE BEST PIZZA IN TOWN"}),(0,a.jsx)("p",{className:b().desc,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut blandit arcu in pretium molestie. Interdum et malesuada fames acme. Lorem ipsum dolor sit amet, consectetur adipiscing elit."}),(0,a.jsx)("div",{className:b().wrapper,children:t.map((function(e){return(0,a.jsx)(y,{pizza:e},e._id)}))})]})},P=n(214),S=n.n(P),O=!0;function k(e){var t=e.pizzaList,n=(e.admin,(0,s.useState)(!0)),i=n[0],c=n[1];return(0,a.jsxs)("div",{className:S().container,children:[(0,a.jsxs)(r.default,{children:[(0,a.jsx)("title",{children:"Pizza Restaurant in Newyork"}),(0,a.jsx)("meta",{name:"description",content:"Best pizza shop in town"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsx)(N,{}),(0,a.jsx)(h,{setClose:c}),(0,a.jsx)(A,{pizzaList:t}),!i&&(0,a.jsx)(x,{setClose:c})]})}},2753:function(e){e.exports={mainAddButton:"Add_mainAddButton__jwM2b",container:"Add_container__nehfK",wrapper:"Add_wrapper__JHSck",close:"Add_close__1Bqhj",item:"Add_item__pgcYA",label:"Add_label__jItnq",input:"Add_input__EuiD8",priceContainer:"Add_priceContainer__WuGaE",inputSm:"Add_inputSm__dPDFU",extra:"Add_extra__3fi1Q",extraItems:"Add_extraItems__GWk48",extraItem:"Add_extraItem__9Z9sH",addButton:"Add_addButton__6OqWh"}},4381:function(e){e.exports={container:"Featured_container__djdhp",arrowContainer:"Featured_arrowContainer__eRP7q",wrapper:"Featured_wrapper__Up3ZO",imgContainer:"Featured_imgContainer__bP_Gp"}},214:function(){},589:function(e){e.exports={container:"PizzaCard_container__mVRTr",title:"PizzaCard_title__sZOH_",price:"PizzaCard_price___VsOO",desc:"PizzaCard_desc__n11RA"}},7526:function(e){e.exports={container:"PizzaList_container__zgXeF",desc:"PizzaList_desc__kbamW",wrapper:"PizzaList_wrapper__hlf57",title:"PizzaList_title__RoCAI"}},9008:function(e,t,n){e.exports=n(5443)},1163:function(e,t,n){e.exports=n(387)}},function(e){e.O(0,[669,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);