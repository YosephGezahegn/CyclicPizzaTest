(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{161:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(1174)}])},1174:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return f}});var r=n(8520),s=n.n(r),i=n(5893),c=n(9669),a=n.n(c),l=n(5675),d=n(7294),o=n(4468),u=n.n(o);function h(t,e,n,r,s,i,c){try{var a=t[i](c),l=a.value}catch(d){return void n(d)}a.done?e(l):Promise.resolve(l).then(r,s)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,s){var i=t.apply(e,n);function c(t){h(i,r,s,c,a,"next",t)}function a(t){h(i,r,s,c,a,"throw",t)}c(void 0)}))}}function j(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=!0;e.default=function(t){var e=t.orders,n=t.products,r=(0,d.useState)(n),c=r[0],o=r[1],h=(0,d.useState)(e),f=h[0],m=h[1],p=["preparing","on the way","delivered"],_=x(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,a().delete("http://localhost:3000/api/products/"+e);case 4:t.sent,o(c.filter((function(t){return t._id!==e}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),b=x(s().mark((function t(e){var n,r,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.filter((function(t){return t._id===e}))[0],r=n.status,t.prev=2,t.next=5,a().put("http://localhost:3000/api/orders/"+e,{status:r+1});case 5:i=t.sent,m([i.data].concat(j(f.filter((function(t){return t._id!==e}))))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return(0,i.jsxs)("div",{className:u().container,children:[(0,i.jsxs)("div",{className:u().item,children:[(0,i.jsx)("h1",{className:u().title,children:"Products"}),(0,i.jsxs)("table",{className:u().table,children:[(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{className:u().trTitle,children:[(0,i.jsx)("th",{children:"Image"}),(0,i.jsx)("th",{children:"Id"}),(0,i.jsx)("th",{children:"Title"}),(0,i.jsx)("th",{children:"Price"}),(0,i.jsx)("th",{children:"Action"})]})}),c.map((function(t){return(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{className:u().trTitle,children:[(0,i.jsx)("td",{children:(0,i.jsx)(l.default,{src:t.img,width:50,height:50,objectFit:"cover",alt:""})}),(0,i.jsxs)("td",{children:[t._id.slice(0,5),"..."]}),(0,i.jsx)("td",{children:t.title}),(0,i.jsxs)("td",{children:["$",t.prices[0]]}),(0,i.jsxs)("td",{children:[(0,i.jsx)("button",{className:u().button,children:"Edit"}),(0,i.jsx)("button",{className:u().button,onClick:function(){return _(t._id)},children:"Delete"})]})]})},t._id)}))]})]}),(0,i.jsxs)("div",{className:u().item,children:[(0,i.jsx)("h1",{className:u().title,children:"Orders"}),(0,i.jsxs)("table",{className:u().table,children:[(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{className:u().trTitle,children:[(0,i.jsx)("th",{children:"Id"}),(0,i.jsx)("th",{children:"Customer"}),(0,i.jsx)("th",{children:"Total"}),(0,i.jsx)("th",{children:"Payment"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Action"})]})}),f.map((function(t){return(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{className:u().trTitle,children:[(0,i.jsxs)("td",{children:[t._id.slice(0,5),"..."]}),(0,i.jsx)("td",{children:t.customer}),(0,i.jsxs)("td",{children:["$",t.total]}),(0,i.jsx)("td",{children:0===t.method?(0,i.jsx)("span",{children:"cash"}):(0,i.jsx)("span",{children:"paid"})}),(0,i.jsx)("td",{children:p[t.status]}),(0,i.jsx)("td",{children:(0,i.jsx)("button",{onClick:function(){return b(t._id)},children:"Next Stage"})})]})},t._id)}))]})]})]})}},4468:function(t){t.exports={container:"Admin_container__7Kd1y",item:"Admin_item__FuGBz",table:"Admin_table__brNHw",button:"Admin_button___uar2"}}},function(t){t.O(0,[669,774,888,179],(function(){return e=161,t(t.s=e);var e}));var e=t.O();_N_E=e}]);